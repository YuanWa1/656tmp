<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>656tmp_p1</title>
  </head>
  <body>
    <div class="page">
      <main class="stage">
        <section class="stage__frame">
          <canvas id="glcanvas" width="640" height="640"></canvas>
        </section>

        <section class="stage__content">
          <div class="content__demo">
            <h3>Demo</h3>
            <video controls>
              <source src="./pics/Demo.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div class="content__description">
            <h2>Description</h2>
            <p> This fragment shader implements per-pixel lighting using the Blinn-Phong model on a flat 2D surface in UV space. It samples an albedo texture for base color and a tangent-space normal map for per-pixel surface orientation. </p> 
            <p> The normal map is stored in RGB in [0,1] and is decoded to a signed normal in [-1,1] with N = normalize(nTex * 2.0 - 1.0). This decoded normal replaces geometric normals and creates a 3D appearance on a flat plane. </p> 
            <p> Lighting uses a movable light derived from the mouse: L is the direction from (uv,0) to (mouse_position,0.2), while the view direction V is fixed at (0,0,1). Diffuse is max(dot(N,L),0). Specular uses the Blinn-Phong half-vector H = normalize(L+V) with pow(max(dot(N,H),0), shininess). Ambient, diffuse, and specular are summed in linear space, then gamma-encoded for display. </p>
          </div>
        </section>

        <!-- <aside class="panel">
          <div class="panel__header">
            <h2>Controls</h2>
            <span class="panel__badge">Live</span>
          </div>

          <div class="control-group">
            <label class="control toggle">
              <input type="checkbox" checked />
              <span class="toggle__track"></span>
              <span class="control__label">Soft shadows</span>
            </label>
            <label class="control toggle">
              <input type="checkbox" />
              <span class="toggle__track"></span>
              <span class="control__label">Rim light</span>
            </label>
            <label class="control toggle">
              <input type="checkbox" checked />
              <span class="toggle__track"></span>
              <span class="control__label">Normal map</span>
            </label>
          </div>

          <div class="control-group">
            <label class="control">
              <span class="control__label">Specular intensity</span>
              <input type="range" min="0" max="100" value="70" />
            </label>
            <label class="control">
              <span class="control__label">Light height</span>
              <input type="range" min="0" max="100" value="42" />
            </label>
            <label class="control">
              <span class="control__label">Surface roughness</span>
              <input type="range" min="0" max="100" value="28" />
            </label>
          </div>

          <div class="panel__footer">
            <button class="button button--primary">Reset scene</button>
            <button class="button button--ghost">Snapshot</button>
          </div>
        </aside> -->
      </main>
    </div>

    <script type="module" src="/src/main.js"></script>
  </body>
</html>
